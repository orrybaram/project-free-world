TS = {};


(function(){
  TS.poverty = [
    {
      "country": "Somalia",
      "LatLng":[10,49], 
      "Type": "Poverty Alleviation", 
      "Value": "3",
      "Lat": "02°02'N",
      "Lng": "45°25'E"
    },
    {
      "country": "Haiti",
      "LatLng": [19,-72.4167], 
      "Type": "Poverty Alleviation", 
      "Value": "5",
      "Lat": "18°40'N",
      "Lng": "72°20'W"
    },
    {
      "country": "Guinea-Bissau",
      "LatLng": [12,-15], 
      "Type":	"Poverty Alleviation",
       "Value": "10",
      "Lat": "11°45'N",
      "Lng": "15°45'W"
    },
    {
      "country": "Guinea",
      "LatLng": [11,-10], 
      "Type": 		"Poverty Alleviation",
       "Value": "11",
      "Lat": "09°29'N",
      "Lng": "13°49'W"
    },
    {
      "country": "Zimbabwe",
      "LatLng": [-20,30],
       "Type": "Poverty Alleviation", 
      "Value": "11",
      "Lat": "17°43'S",
      "Lng": "31°02'E"
    },
    {
      "country": "Burundi",
      "LatLng": [-3.5,30], 
      "Type": "Poverty Alleviation",
       "Value": "12",
      "Lat": "03°16'S",
      "Lng": "29°18'E"
    },
  ];

  TS.economic= [
    {
      "country": "Angola",
      "LatLng": [-12.5,18.5], 
      "Type":		"Economic Equality",
       "Value": "9",
      "Lat": "08°50'S",
      "Lng": "13°15'E"
    },
    {
      "country": "D R Congo",
      "LatLng": [0,25], 
      "Type":		"Economic Equality",
       "Value": "11",
      "Lat": "39°09'N",
      "Lng": "125°30'E"
    },
    {
      "country": "Nigeria",
      "LatLng": [10,8], 
      "Type":		"Economic Equality", 
      "Value": "11",
      "Lat": "09°05'N",
      "Lng": "07°32'E"
    },
    {
      "country": "Zimbabwe",
      "LatLng": [-20,30], 
      "Type":		"Economic Equality", 
      "Value": "11",
      "Lat": "17°43'S",
      "Lng": "31°02'E"
    },
    {
      "country": "Equatorial Guinea",
      "LatLng": [2,10], 
      "Type":		"Economic Equality", 
      "Value": "12",
      "Lat": "03°45'N",
      "Lng": "08°50'E"
    },
    {
      "country": "South Sudan",
      "LatLng": [5.88, 31.28], 
      "Type":	"Economic Equality", 
      "Value": "12",
      "Lat": "#N/A",
      "Lng": "#N/A"
    }
  ]

  TS.infrastructure= [
    {
      "country": "Somalia",
      "LatLng": [10,49], 
      "Type": 		"Infrastructure Index", 
      "Value": "4",
      "Lat": "02°02'N",
      "Lng": "45°25'E"
    },
    {
      "country": "D R Congo",
      "LatLng": [0,25], 
      "Type": 		"Infrastructure Index", 
      "Value": "9",
      "Lat": "39°09'N",
      "Lng": "125°30'E"
    },
    {
      "country": "Chad",
      "LatLng": [15,19],
       "Type": 		"Infrastructure Index", 
       "Value": "10",
      "Lat": "12°10'N",
      "Lng": "14°59'E"
    },
    {
      "country": "Zimbabwe",
      "LatLng": [-20,30], 
      "Type":		"Infrastructure Index", 
      "Value": "11",
      "Lat": "17°43'S",
      "Lng": "31°02'E"
    },
    {
      "country": "Haiti",
      "LatLng": [19,-72.4167], 
      "Type":		"Infrastructure Index", 
      "Value": "11",
      "Lat": "18°40'N",
      "Lng": "72°20'W"
    },
    {
      "country": "South Sudan",
      "LatLng":  [5.88, 31.28],
       "Type":		"Infrastructure Index", 
      "Value": "14",
      "Lat": "#N/A",
      "Lng": "#N/A"
    }
  ]

  TS.human = [
    {
      "country": "Somalia",
      "LatLng":[10,49], 
      "Type": 	"Human Rights Index", 
      "Value": "2",
      "Lat": "02°02'N",
      "Lng": "45°25'E"
    },
    {
      "country": "South Sudan",
      "LatLng": [5.88, 31.28], 
      "Type":		"Human Rights Index", 
      "Value": "4",
      "Lat": "#N/A",
      "Lng": "#N/A"
    },
    {
      "country": "D R Congo",
      "LatLng": [0,25],
       "Type":	"Human Rights Index", 
       "Value": "5",
      "Lat": "39°09'N",
      "Lng": "125°30'E"
    },
    {
      "country": "Sudan",
      "LatLng": [15,30],
       "Type": 		"Human Rights Index", 
       "Value": "6",
      "Lat": "15°31'N",
      "Lng": "32°35'E"
    },
    {
      "country": "Syria",
      "LatLng": [35,38], 
      "Type": 		"Human Rights Index", 
      "Value": "7",
      "Lat": "#N/A",
      "Lng": "#N/A"
    },
    {
      "country": "Chad",
      "LatLng": [15,19], 
      "Type": 		"Human Rights Index", 
      "Value": "8",
      "Lat": "12°10'N",
      "Lng": "14°59'E"
    }
  ]

  TS.government = [
    {
      "country": "Somalia",
      "LatLng": [10,49], 
      "Type": 		"Government Legitimacy", 
      "Value": "1",
      "Lat": "02°02'N",
      "Lng": "45°25'E"
    },
    {
      "country": "South Sudan",
      "LatLng": [5.88, 31.28], 
      "Type": 		"Government Legitimacy", 
      "Value": "3",
      "Lat": "#N/A",
      "Lng": "#N/A"
    },
    {
      "country": "Afghanistan",
      "LatLng": [33,65], 
      "Type": 		"Government Legitimacy", 
      "Value": "3",
      "Lat": "34°28'N",
      "Lng": "69°11'E"
    },
    {
      "country": "D R Congo",
      "LatLng": [0,25], 
      "Type": 		"Government Legitimacy", 
      "Value": "4",
      "Lat": "39°09'N",
      "Lng": "125°30'E"
    },
    {
      "country": "Ivory Coast",
      "LatLng": [8,-5], 
      "Type": 		"Government Legitimacy", 
      "Value": "4",
      "Lat": "#N/A",
      "Lng": "#N/A"
    },
    {
      "country": "Sudan",
      "LatLng": [15,30], 
      "Type": 		"Government Legitimacy", 
      "Value": "4",
      "Lat": "15°31'N",
      "Lng": "32°35'E"
    }
  ]

  TS.literacy = [
    {
      "country": "Mali",
      "LatLng": [17,-4], 
      "Type": 	"Literacy Rate", 
      "Value": "26",
      "Lat": "12°34'N",
      "Lng": "07°55'W"
    },
    {
      "country": "South Sudan",
      "LatLng": [5.88, 31.28], 
      "Type": 		"Literacy Rate",
       "Value": "27",
      "Lat": "#N/A",
      "Lng": "#N/A"
    },
    {
      "country": "Sudan",
      "LatLng": [15,30],
      "Type": 		"Literacy Rate",
      "Value": "27",
      "Lat": "15°31'N",
      "Lng": "32°35'E"
    },
    {
      "country": "Ethiopia",
      "LatLng": [8,38], 
      "Type":  "Literacy Rate", 
      "Value": "28",
      "Lat": "09°02'N",
      "Lng": "38°42'E"
    },
    {
      "country": "Burkina Faso",
      "LatLng": [13,-2], 
      "Type":  "Literacy Rate", 
      "Value": "29",
      "Lat": "12°15'N",
      "Lng": "01°30'W"
    },
    {
      "country": "Niger",
      "LatLng": [16,8],
       "Type": 	"Literacy Rate", 
      "Value": "29",
      "Lat": "13°27'N",
      "Lng": "02°06'E"
    }
  ]

  $(document).ready(function(){
    default_type = 'poverty';
    TS.choose_type(default_type);
    TS.setup_click_handlers();
  });

  TS.setup_click_handlers = function(){
    var button_events = {"poverty_button":"poverty", "economic_button":"economic", "infrastructure_button":"infrastructure", "human_rights_button":"human", "government_button":"government", "literacy_button":"literacy"}
    _.each(button_events, function(statistic_name,button_id){ 
      TS.add_click_event_to_buttons(statistic_name, button_id);
    });
  }

  TS.add_click_event_to_buttons = function(statistics_type, button_id){
    $('#'+button_id).on('click', function(){
      TS.choose_type(statistics_type);
    });
  }

  TS.choose_type = function(type){
    for(var i = 0; i < 6; i++){
      var country_name = TS[type][i]['country']
      var latlng_array1 = TS[type][i]['LatLng'];
      var map = GeoMap.map; 
      var marker_loc = new google.maps.LatLng(latlng_array1[0], latlng_array1[1]);
      var marker = new google.maps.Marker({
        position: marker_loc,
        map: map,
        title: country_name
      });
      $('#troublespot'+i.toString()).html(country_name + '<div class="label danger">Critical</div>');
    }
  };
})();
